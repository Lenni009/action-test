var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},__extends=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__assign.apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};define("back",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e[e.length-1]}})),define("nodes/type",["require","exports"],(function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"}(r||(r={})),t.default=r})),define("nodes/node",["require","exports","he"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){void 0===e&&(e=null),this.parentNode=e,this.childNodes=[],Object.defineProperty(this,"range",{enumerable:!1,writable:!0,configurable:!0,value:null!=t?t:[-1,-1]})}return e.prototype.remove=function(){var e=this;if(this.parentNode){var t=this.parentNode.childNodes;this.parentNode.childNodes=t.filter((function(t){return e!==t})),this.parentNode=null}return this},Object.defineProperty(e.prototype,"innerText",{get:function(){return this.rawText},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textContent",{get:function(){return(0,r.decode)(this.rawText)},set:function(e){this.rawText=(0,r.encode)(e)},enumerable:!1,configurable:!0}),e}();t.default=n})),define("matcher",["require","exports","nodes/type"],(function(e,t,r){"use strict";function n(e){return e&&e.nodeType===r.default.ELEMENT_NODE}function i(e,t){return n(e)?e.getAttribute(t):void 0}function o(e){return e&&e.childNodes}function a(e){return e?e.parentNode:null}Object.defineProperty(t,"__esModule",{value:!0}),r=__importDefault(r),t.default={isTag:n,getAttributeValue:i,getName:function(e){return(e&&e.rawTagName||"").toLowerCase()},getChildren:o,getParent:a,getText:function(e){return e.text},removeSubsets:function(e){for(var t,r,n,i=e.length;--i>-1;){for(t=r=e[i],e[i]=null,n=!0;r;){if(e.indexOf(r)>-1){n=!1,e.splice(i,1);break}r=a(r)}n&&(e[i]=t)}return e},existsOne:function e(t,r){return r.some((function(r){return!!n(r)&&(t(r)||e(t,o(r)))}))},getSiblings:function(e){var t=a(e);return t?o(t):[]},hasAttrib:function(e,t){return void 0!==i(e,t)},findOne:function e(t,r){for(var n=null,i=0,a=null==r?void 0:r.length;i<a&&!n;i++){var s=r[i];if(t(s))n=s;else{var u=o(s);u&&u.length>0&&(n=e(t,u))}}return n},findAll:function e(t,r){for(var i=[],a=0,s=r.length;a<s;a++)if(n(r[a])){t(r[a])&&i.push(r[a]);var u=o(r[a]);u&&(i=i.concat(e(t,u)))}return i}}})),define("void-tag",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){void 0===e&&(e=!1),this.addClosingSlash=e,Array.isArray(t)?this.voidTags=t.reduce((function(e,t){return e.add(t.toLowerCase())}),new Set):this.voidTags=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].reduce((function(e,t){return e.add(t)}),new Set)}return e.prototype.formatNode=function(e,t,r){var n=this.addClosingSlash,i=n&&t&&!t.endsWith(" ")?" ":"",o=n?"".concat(i,"/"):"";return this.isVoidElement(e.toLowerCase())?"<".concat(e).concat(t).concat(o,">"):"<".concat(e).concat(t,">").concat(r,"</").concat(e,">")},e.prototype.isVoidElement=function(e){return this.voidTags.has(e)},e}();t.default=r})),define("nodes/text",["require","exports","he","nodes/node","nodes/type"],(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=__importDefault(n),i=__importDefault(i);var o=function(e){function t(t,r,n){var o=e.call(this,r,n)||this;return o.nodeType=i.default.TEXT_NODE,o._rawText=t,o}return __extends(t,e),t.prototype.clone=function(){return new t(this._rawText,null)},Object.defineProperty(t.prototype,"rawText",{get:function(){return this._rawText},set:function(e){this._rawText=e,this._trimmedRawText=void 0,this._trimmedText=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trimmedRawText",{get:function(){return void 0!==this._trimmedRawText||(this._trimmedRawText=a(this.rawText)),this._trimmedRawText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trimmedText",{get:function(){return void 0!==this._trimmedText||(this._trimmedText=a(this.text)),this._trimmedText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return(0,r.decode)(this.rawText)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWhitespace",{get:function(){return/^(\s|&nbsp;)*$/.test(this.rawText)},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.rawText},t}(n.default);function a(e){for(var t,r,n=0;n>=0&&n<e.length;)/\S/.test(e[n])&&(void 0===t?(t=n,n=e.length):(r=n,n=void 0)),void 0===t?n++:n--;void 0===t&&(t=0),void 0===r&&(r=e.length-1);var i=t>0&&/[^\S\r\n]/.test(e[t-1]),o=r<e.length-1&&/[^\S\r\n]/.test(e[r+1]);return(i?" ":"")+e.slice(t,r+1)+(o?" ":"")}t.default=o})),define("nodes/html",["require","exports","css-select","he","back","matcher","void-tag","nodes/comment","nodes/node","nodes/text","nodes/type"],(function(e,t,r,n,i,o,a,s,u,d,l){"use strict";function c(e){return JSON.parse(JSON.stringify(n.default.decode(e)))}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.base_parse=void 0,n=__importDefault(n),i=__importDefault(i),o=__importDefault(o),a=__importDefault(a),s=__importDefault(s),u=__importDefault(u),d=__importDefault(d),l=__importDefault(l);var f=new Set;!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=function(e){for(var t=0;t<e.length;t++){var r=e[t];f.add(r),f.add(r.toUpperCase())}},n=0,i=e;n<i.length;n++){r(i[n])}}(["h1","h2","h3","h4","h5","h6","header","hgroup"],["details","dialog","dd","div","dt"],["fieldset","figcaption","figure","footer","form"],["table","td","tr"],["address","article","aside","blockquote","br","hr","li","main","nav","ol","p","pre","section","ul"]);var p=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=function(){return null}),this._set=new Set(e),this._afterUpdate=t}return e.prototype._validate=function(e){if(/\s/.test(e))throw new Error("DOMException in DOMTokenList.add: The token '".concat(e,"' contains HTML space characters, which are not valid in tokens."))},e.prototype.add=function(e){this._validate(e),this._set.add(e),this._afterUpdate(this)},e.prototype.replace=function(e,t){this._validate(t),this._set.delete(e),this._set.add(t),this._afterUpdate(this)},e.prototype.remove=function(e){this._set.delete(e)&&this._afterUpdate(this)},e.prototype.toggle=function(e){this._validate(e),this._set.has(e)?this._set.delete(e):this._set.add(e),this._afterUpdate(this)},e.prototype.contains=function(e){return this._set.has(e)},Object.defineProperty(e.prototype,"length",{get:function(){return this._set.size},enumerable:!1,configurable:!0}),e.prototype.values=function(){return this._set.values()},Object.defineProperty(e.prototype,"value",{get:function(){return Array.from(this._set.values())},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return Array.from(this._set.values()).join(" ")},e}(),h=function(e){function t(t,r,n,i,o,s,u){void 0===n&&(n=""),void 0===s&&(s=new a.default),void 0===u&&(u={});var d=e.call(this,i,o)||this;if(d.rawAttrs=n,d.voidTag=s,d.nodeType=l.default.ELEMENT_NODE,d.rawTagName=t,d.rawAttrs=n||"",d.id=r.id||"",d.childNodes=[],d._parseOptions=u,d.classList=new p(r.class?r.class.split(/\s+/):[],(function(e){return d.setAttribute("class",e.toString())})),r.id&&(n||(d.rawAttrs='id="'.concat(r.id,'"'))),r.class&&!n){var c='class="'.concat(d.classList.toString(),'"');d.rawAttrs?d.rawAttrs+=" ".concat(c):d.rawAttrs=c}return d}return __extends(t,e),t.prototype.quoteAttribute=function(e){return null==e?"null":JSON.stringify(e.replace(/"/g,"&quot;"))},t.prototype.removeChild=function(e){return this.childNodes=this.childNodes.filter((function(t){return t!==e})),this},t.prototype.exchangeChild=function(e,t){var r=this.childNodes;return this.childNodes=r.map((function(r){return r===e?t:r})),this},Object.defineProperty(t.prototype,"tagName",{get:function(){return this.rawTagName?this.rawTagName.toUpperCase():this.rawTagName},set:function(e){this.rawTagName=e.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.rawTagName.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVoidElement",{get:function(){return this.voidTag.isVoidElement(this.localName)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawText",{get:function(){return this.childNodes.reduce((function(e,t){return e+t.rawText}),"")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textContent",{get:function(){return c(this.rawText)},set:function(e){var t=[new d.default(e,this)];this.childNodes=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return c(this.rawText)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"structuredText",{get:function(){var e=[],t=[e];return function r(n){if(n.nodeType===l.default.ELEMENT_NODE)f.has(n.rawTagName)?(e.length>0&&t.push(e=[]),n.childNodes.forEach(r),e.length>0&&t.push(e=[])):n.childNodes.forEach(r);else if(n.nodeType===l.default.TEXT_NODE)if(n.isWhitespace)e.prependWhitespace=!0;else{var i=n.trimmedText;e.prependWhitespace&&(i=" ".concat(i),e.prependWhitespace=!1),e.push(i)}}(this),t.map((function(e){return e.join("").replace(/\s{2,}/g," ")})).join("\n").replace(/\s+$/,"")},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=this.rawTagName;if(e){var t=this.rawAttrs?" ".concat(this.rawAttrs):"";return this.voidTag.formatNode(e,t,this.innerHTML)}return this.innerHTML},Object.defineProperty(t.prototype,"innerHTML",{get:function(){return this.childNodes.map((function(e){return e.toString()})).join("")},set:function(e){var t=T(e,this._parseOptions),r=t.childNodes.length?t.childNodes:[new d.default(e,this)];w(r,this),w(this.childNodes,null),this.childNodes=r},enumerable:!1,configurable:!0}),t.prototype.set_content=function(e,t){if(void 0===t&&(t={}),e instanceof u.default)e=[e];else if("string"==typeof e){var r=T(e,t=__assign(__assign({},this._parseOptions),t));e=r.childNodes.length?r.childNodes:[new d.default(r.innerHTML,this)]}return w(this.childNodes,null),w(e,this),this.childNodes=e,this},t.prototype.replaceWith=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.parentNode,i=t.map((function(t){if(t instanceof u.default)return[t];if("string"==typeof t){var r=T(t,e._parseOptions);return r.childNodes.length?r.childNodes:[new d.default(t,e)]}return[]})).flat(),o=n.childNodes.findIndex((function(t){return t===e}));return w([this],null),n.childNodes=__spreadArray(__spreadArray(__spreadArray([],n.childNodes.slice(0,o),!0),w(i,n),!0),n.childNodes.slice(o+1),!0),this},Object.defineProperty(t.prototype,"outerHTML",{get:function(){return this.toString()},enumerable:!1,configurable:!0}),t.prototype.trimRight=function(e){for(var t=0;t<this.childNodes.length;t++){var r=this.childNodes[t];if(r.nodeType===l.default.ELEMENT_NODE)r.trimRight(e);else{var n=r.rawText.search(e);n>-1&&(r.rawText=r.rawText.substr(0,n),this.childNodes.length=t+1)}}return this},Object.defineProperty(t.prototype,"structure",{get:function(){var e=[],t=0;function r(r){e.push("  ".repeat(t)+r)}return function e(n){var i=n.id?"#".concat(n.id):"",o=n.classList.length?".".concat(n.classList.value.join(".")):"";r("".concat(n.rawTagName).concat(i).concat(o)),t++,n.childNodes.forEach((function(t){t.nodeType===l.default.ELEMENT_NODE?e(t):t.nodeType===l.default.TEXT_NODE&&(t.isWhitespace||r("#text"))})),t--}(this),e.join("\n")},enumerable:!1,configurable:!0}),t.prototype.removeWhitespace=function(){var e=this,t=0;return this.childNodes.forEach((function(r){if(r.nodeType===l.default.TEXT_NODE){if(r.isWhitespace)return;r.rawText=r.trimmedRawText}else r.nodeType===l.default.ELEMENT_NODE&&r.removeWhitespace();e.childNodes[t++]=r})),this.childNodes.length=t,this},t.prototype.querySelectorAll=function(e){return(0,r.selectAll)(e,this,{xmlMode:!0,adapter:o.default})},t.prototype.querySelector=function(e){return(0,r.selectOne)(e,this,{xmlMode:!0,adapter:o.default})},t.prototype.getElementsByTagName=function(e){for(var t=e.toUpperCase(),r=[],n=[],i=this,o=0;void 0!==o;){var a=void 0;do{a=i.childNodes[o++]}while(o<i.childNodes.length&&void 0===a);void 0!==a?a.nodeType===l.default.ELEMENT_NODE&&("*"!==e&&a.tagName!==t||r.push(a),a.childNodes.length>0&&(n.push(o),i=a,o=0)):(i=i.parentNode,o=n.pop())}return r},t.prototype.getElementById=function(e){for(var t=[],r=this,n=0;void 0!==n;){var i=void 0;do{i=r.childNodes[n++]}while(n<r.childNodes.length&&void 0===i);if(void 0!==i){if(i.nodeType===l.default.ELEMENT_NODE){if(i.id===e)return i;i.childNodes.length>0&&(t.push(n),r=i,n=0)}}else r=r.parentNode,n=t.pop()}return null},t.prototype.closest=function(e){var t=new Map,n=this,i=null;function a(e,r){for(var n=null,i=0,o=r.length;i<o&&!n;i++){var s=r[i];if(e(s))n=s;else{var u=t.get(s);u&&(n=a(e,[u]))}}return n}for(;n;)t.set(n,i),i=n,n=n.parentNode;for(n=this;n;){var s=(0,r.selectOne)(e,n,{xmlMode:!0,adapter:__assign(__assign({},o.default),{getChildren:function(e){var r=t.get(e);return r&&[r]},getSiblings:function(e){return[e]},findOne:a,findAll:function(){return[]}})});if(s)return s;n=n.parentNode}return null},t.prototype.appendChild=function(e){return e.remove(),this.childNodes.push(e),e.parentNode=this,e},Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.childNodes[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return(0,i.default)(this.childNodes)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attrs",{get:function(){if(this._attrs)return this._attrs;this._attrs={};var e=this.rawAttributes;for(var t in e){var r=e[t]||"";this._attrs[t.toLowerCase()]=c(r)}return this._attrs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e={},t=this.rawAttributes;for(var r in t){var n=t[r]||"";e[r]=c(n)}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawAttributes",{get:function(){if(this._rawAttrs)return this._rawAttrs;var e={};if(this.rawAttrs)for(var t=/([a-zA-Z()[\]#@$.?:][a-zA-Z0-9-_:()[\]#]*)(?:\s*=\s*((?:'[^']*')|(?:"[^"]*")|\S+))?/g,r=void 0;r=t.exec(this.rawAttrs);){var n=r[1],i=r[2]||null;!i||"'"!==i[0]&&'"'!==i[0]||(i=i.slice(1,i.length-1)),e[n]=e[n]||i}return this._rawAttrs=e,e},enumerable:!1,configurable:!0}),t.prototype.removeAttribute=function(e){var t=this.rawAttributes;return delete t[e],this._attrs&&delete this._attrs[e],this.rawAttrs=Object.keys(t).map((function(e){var r=JSON.stringify(t[e]);return void 0===r||"null"===r?e:"".concat(e,"=").concat(r)})).join(" "),"id"===e&&(this.id=""),this},t.prototype.hasAttribute=function(e){return e.toLowerCase()in this.attrs},t.prototype.getAttribute=function(e){return this.attrs[e.toLowerCase()]},t.prototype.setAttribute=function(e,t){var r=this;if(arguments.length<2)throw new Error("Failed to execute 'setAttribute' on 'Element'");var n=e.toLowerCase(),i=this.rawAttributes;for(var o in i)if(o.toLowerCase()===n){e=o;break}return i[e]=String(t),this._attrs&&(this._attrs[n]=c(i[e])),this.rawAttrs=Object.keys(i).map((function(e){var t=r.quoteAttribute(i[e]);return"null"===t||'""'===t?e:"".concat(e,"=").concat(t)})).join(" "),"id"===e&&(this.id=t),this},t.prototype.setAttributes=function(e){var t=this;return this._attrs&&delete this._attrs,this._rawAttrs&&delete this._rawAttrs,this.rawAttrs=Object.keys(e).map((function(r){var n=e[r];return"null"===n||'""'===n?r:"".concat(r,"=").concat(t.quoteAttribute(String(n)))})).join(" "),this},t.prototype.insertAdjacentHTML=function(e,t){var r,n,i,o=this;if(arguments.length<2)throw new Error("2 arguments required");var a=T(t,this._parseOptions);if("afterend"===e){var s=this.parentNode.childNodes.findIndex((function(e){return e===o}));w(a.childNodes,this.parentNode),(r=this.parentNode.childNodes).splice.apply(r,__spreadArray([s+1,0],a.childNodes,!1))}else if("afterbegin"===e)w(a.childNodes,this),(n=this.childNodes).unshift.apply(n,a.childNodes);else if("beforeend"===e)a.childNodes.forEach((function(e){o.appendChild(e)}));else{if("beforebegin"!==e)throw new Error("The value provided ('".concat(e,"') is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'"));s=this.parentNode.childNodes.findIndex((function(e){return e===o}));w(a.childNodes,this.parentNode),(i=this.parentNode.childNodes).splice.apply(i,__spreadArray([s,0],a.childNodes,!1))}return this},Object.defineProperty(t.prototype,"nextSibling",{get:function(){if(this.parentNode){for(var e=this.parentNode.childNodes,t=0;t<e.length;){if(this===e[t++])return e[t]||null}return null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextElementSibling",{get:function(){if(this.parentNode){for(var e=this.parentNode.childNodes,r=0,n=!1;r<e.length;){var i=e[r++];if(n){if(i instanceof t)return i||null}else this===i&&(n=!0)}return null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){if(this.parentNode){for(var e=this.parentNode.childNodes,t=e.length;t>0;){if(this===e[--t])return e[t-1]||null}return null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousElementSibling",{get:function(){if(this.parentNode){for(var e=this.parentNode.childNodes,r=e.length,n=!1;r>0;){var i=e[--r];if(n){if(i instanceof t)return i||null}else this===i&&(n=!0)}return null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classNames",{get:function(){return this.classList.toString()},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return T(this.toString(),this._parseOptions).firstChild},t}(u.default);t.default=h;var g=/<!--[\s\S]*?-->|<(\/?)([a-zA-Z][-.:0-9_a-zA-Z]*)((?:\s+[^>]*?(?:(?:'[^']*')|(?:"[^"]*"))?)*)\s*(\/?)>/g,v=/(?:^|\s)(id|class)\s*=\s*((?:'[^']*')|(?:"[^"]*")|\S+)/gi,_={area:!0,AREA:!0,base:!0,BASE:!0,br:!0,BR:!0,col:!0,COL:!0,hr:!0,HR:!0,img:!0,IMG:!0,input:!0,INPUT:!0,link:!0,LINK:!0,meta:!0,META:!0,source:!0,SOURCE:!0,embed:!0,EMBED:!0,param:!0,PARAM:!0,track:!0,TRACK:!0,wbr:!0,WBR:!0},b={li:{li:!0,LI:!0},LI:{li:!0,LI:!0},p:{p:!0,div:!0,P:!0,DIV:!0},P:{p:!0,div:!0,P:!0,DIV:!0},b:{div:!0,DIV:!0},B:{div:!0,DIV:!0},td:{td:!0,th:!0,TD:!0,TH:!0},TD:{td:!0,th:!0,TD:!0,TH:!0},th:{td:!0,th:!0,TD:!0,TH:!0},TH:{td:!0,th:!0,TD:!0,TH:!0},h1:{h1:!0,H1:!0},H1:{h1:!0,H1:!0},h2:{h2:!0,H2:!0},H2:{h2:!0,H2:!0},h3:{h3:!0,H3:!0},H3:{h3:!0,H3:!0},h4:{h4:!0,H4:!0},H4:{h4:!0,H4:!0},h5:{h5:!0,H5:!0},H5:{h5:!0,H5:!0},h6:{h6:!0,H6:!0},H6:{h6:!0,H6:!0}},m={li:{ul:!0,ol:!0,UL:!0,OL:!0},LI:{ul:!0,ol:!0,UL:!0,OL:!0},a:{div:!0,DIV:!0},A:{div:!0,DIV:!0},b:{div:!0,DIV:!0},B:{div:!0,DIV:!0},i:{div:!0,DIV:!0},I:{div:!0,DIV:!0},p:{div:!0,DIV:!0},P:{div:!0,DIV:!0},td:{tr:!0,table:!0,TR:!0,TABLE:!0},TD:{tr:!0,table:!0,TR:!0,TABLE:!0},th:{tr:!0,table:!0,TR:!0,TABLE:!0},TH:{tr:!0,table:!0,TR:!0,TABLE:!0}},y="documentfragmentcontainer";function N(e,t){var r,n;void 0===t&&(t={});var o=new a.default(null===(r=null==t?void 0:t.voidTag)||void 0===r?void 0:r.closingSlash,null===(n=null==t?void 0:t.voidTag)||void 0===n?void 0:n.tags),u=t.blockTextElements||{script:!0,noscript:!0,style:!0,pre:!0},l=Object.keys(u),c=l.map((function(e){return new RegExp("^".concat(e,"$"),"i")})),f=l.filter((function(e){return u[e]})).map((function(e){return new RegExp("^".concat(e,"$"),"i")}));function p(e){return f.some((function(t){return t.test(e)}))}function N(e){return c.some((function(t){return t.test(e)}))}var T,w=function(e,t){return[e-C,t-C]},x=new h(null,{},"",null,[0,e.length],o,t),O=x,E=[x],A=-1,j=void 0;e="<".concat(y,">").concat(e,"</").concat(y,">");for(var D=t.lowerCaseTagName,L=t.fixNestedATags,P=e.length-(y.length+2),C=y.length+2;T=g.exec(e);){var M=T[0],S=T[1],H=T[2],I=T[3],R=T[4],k=M.length,q=g.lastIndex-k,V=g.lastIndex;if(A>-1&&A+k<V){var B=e.substring(A,q);O.appendChild(new d.default(B,O,w(A,q)))}if(A=g.lastIndex,H!==y)if("!"!==M[1]){if(D&&(H=H.toLowerCase()),!S){for(var U={},W=void 0;W=v.exec(I);){var X=W[1],z=W[2],$="'"===z[0]||'"'===z[0];U[X.toLowerCase()]=$?z.slice(1,z.length-1):z}var J=O.rawTagName;!R&&b[J]&&b[J][H]&&(E.pop(),O=(0,i.default)(E)),!L||"a"!==H&&"A"!==H||(void 0!==j&&(E.splice(j),O=(0,i.default)(E)),j=E.length);var Z=g.lastIndex,K=Z-k;if(O=O.appendChild(new h(H,U,I.slice(1),null,w(K,Z),o,t)),E.push(O),N(H)){var F="</".concat(H,">"),G=D?e.toLocaleLowerCase().indexOf(F,g.lastIndex):e.indexOf(F,g.lastIndex),Q=-1===G?P:G;if(p(H))(B=e.substring(Z,Q)).length>0&&/\S/.test(B)&&O.appendChild(new d.default(B,O,w(Z,Q)));-1===G?A=g.lastIndex=e.length+1:(A=g.lastIndex=G+F.length,S="/")}}if(S||R||_[H])for(;;){if(null==j||"a"!==H&&"A"!==H||(j=void 0),O.rawTagName===H){O.range[1]=w(-1,Math.max(A,V))[1],E.pop(),O=(0,i.default)(E);break}J=O.tagName;if(!m[J]||!m[J][H])break;E.pop(),O=(0,i.default)(E)}}else if(t.comment){var B=e.substring(q+4,V-3);O.appendChild(new s.default(B,O,w(q,V)))}}return E}function T(e,t){void 0===t&&(t={});for(var r=N(e,t),n=r[0],o=function(){var e=r.pop(),n=(0,i.default)(r);e.parentNode&&e.parentNode.parentNode&&(e.parentNode===n&&e.tagName===n.tagName?!0!==t.parseNoneClosedTags&&(n.removeChild(e),e.childNodes.forEach((function(e){n.parentNode.appendChild(e)})),r.pop()):!0!==t.parseNoneClosedTags&&(n.removeChild(e),e.childNodes.forEach((function(e){n.appendChild(e)}))))};r.length>1;)o();return n}function w(e,t){return e.map((function(e){return e.parentNode=t,e}))}t.base_parse=N,t.parse=T})),define("nodes/comment",["require","exports","nodes/node","nodes/type"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=__importDefault(r),n=__importDefault(n);var i=function(e){function t(t,r,i){var o=e.call(this,r,i)||this;return o.rawText=t,o.nodeType=n.default.COMMENT_NODE,o}return __extends(t,e),t.prototype.clone=function(){return new t(this.rawText,null)},Object.defineProperty(t.prototype,"text",{get:function(){return this.rawText},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"\x3c!--".concat(this.rawText,"--\x3e")},t}(r.default);t.default=i})),define("parse",["require","exports","nodes/html"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.parse}})})),define("valid",["require","exports","nodes/html"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){void 0===t&&(t={});var n=(0,r.base_parse)(e,t);return Boolean(1===n.length)}})),define("index",["require","exports","nodes/comment","nodes/html","nodes/node","nodes/text","nodes/type","parse","valid"],(function(e,t,r,n,i,o,a,s,u){"use strict";function d(e,t){return void 0===t&&(t={}),(0,s.default)(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NodeType=t.TextNode=t.Node=t.valid=t.CommentNode=t.HTMLElement=t.parse=void 0,r=__importDefault(r),n=__importDefault(n),i=__importDefault(i),o=__importDefault(o),a=__importDefault(a),s=__importDefault(s),u=__importDefault(u),t.CommentNode=r.default,t.HTMLElement=n.default,t.Node=i.default,t.TextNode=o.default,t.NodeType=a.default,t.valid=u.default,t.default=d,t.parse=d,d.parse=s.default,d.HTMLElement=n.default,d.CommentNode=r.default,d.valid=u.default,d.Node=i.default,d.TextNode=o.default,d.NodeType=a.default}));
