const whitespace=new Set([9,10,12,13,32]),ZERO="0".charCodeAt(0),NINE="9".charCodeAt(0);export function parse(t){if("even"===(t=t.trim().toLowerCase()))return[2,0];if("odd"===t)return[2,1];let e=0,r=0,n=h(),o=c();if(e<t.length&&"n"===t.charAt(e)&&(e++,r=n*(null!=o?o:1),a(),e<t.length?(n=h(),a(),o=c()):n=o=0),null===o||e<t.length)throw new Error(`n-th rule couldn't be parsed ('${t}')`);return[r,n*o];function h(){return"-"===t.charAt(e)?(e++,-1):("+"===t.charAt(e)&&e++,1)}function c(){const r=e;let n=0;for(;e<t.length&&t.charCodeAt(e)>=ZERO&&t.charCodeAt(e)<=NINE;)n=10*n+(t.charCodeAt(e)-ZERO),e++;return e===r?null:n}function a(){for(;e<t.length&&whitespace.has(t.charCodeAt(e));)e++}}
