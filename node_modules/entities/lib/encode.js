"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.encodeNonAsciiHTML=exports.encodeHTML=void 0;var encode_html_js_1=__importDefault(require("./generated/encode-html.js")),escape_js_1=require("./escape.js"),htmlReplacer=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function encodeHTML(e){return encodeHTMLTrieRe(htmlReplacer,e)}function encodeNonAsciiHTML(e){return encodeHTMLTrieRe(escape_js_1.xmlReplacer,e)}function encodeHTMLTrieRe(e,t){for(var o,n="",r=0;null!==(o=e.exec(t));){var c=o.index;n+=t.substring(r,c);var i=t.charCodeAt(c),s=encode_html_js_1.default.get(i);if("object"==typeof s){if(c+1<t.length){var d=t.charCodeAt(c+1),a="number"==typeof s.n?s.n===d?s.o:void 0:s.n.get(d);if(void 0!==a){n+=a,r=e.lastIndex+=1;continue}}s=s.v}if(void 0!==s)n+=s,r=c+1;else{var u=(0,escape_js_1.getCodePoint)(t,c);n+="&#x".concat(u.toString(16),";"),r=e.lastIndex+=Number(u!==i)}}return n+t.substr(r)}exports.encodeHTML=encodeHTML,exports.encodeNonAsciiHTML=encodeNonAsciiHTML;
