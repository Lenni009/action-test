"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.escapeText=exports.escapeAttribute=exports.escapeUTF8=exports.escape=exports.encodeXML=exports.getCodePoint=exports.xmlReplacer=void 0,exports.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var xmlCodeMap=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function encodeXML(e){for(var t,r="",o=0;null!==(t=exports.xmlReplacer.exec(e));){var p=t.index,s=e.charCodeAt(p),n=xmlCodeMap.get(s);void 0!==n?(r+=e.substring(o,p)+n,o=p+1):(r+="".concat(e.substring(o,p),"&#x").concat((0,exports.getCodePoint)(e,p).toString(16),";"),o=exports.xmlReplacer.lastIndex+=Number(55296==(64512&s)))}return r+e.substr(o)}function getEscaper(e,t){return function(r){for(var o,p=0,s="";o=e.exec(r);)p!==o.index&&(s+=r.substring(p,o.index)),s+=t.get(o[0].charCodeAt(0)),p=o.index+1;return s+r.substring(p)}}exports.getCodePoint=null!=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 55296==(64512&e.charCodeAt(t))?1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t)},exports.encodeXML=encodeXML,exports.escape=encodeXML,exports.escapeUTF8=getEscaper(/[&<>'"]/g,xmlCodeMap),exports.escapeAttribute=getEscaper(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),exports.escapeText=getEscaper(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));
