"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTraversal=void 0;var css_what_1=require("css-what"),procedure=new Map([[css_what_1.SelectorType.Universal,50],[css_what_1.SelectorType.Tag,30],[css_what_1.SelectorType.Attribute,1],[css_what_1.SelectorType.Pseudo,0]]);function isTraversal(t){return!procedure.has(t.type)}exports.isTraversal=isTraversal;var attributes=new Map([[css_what_1.AttributeAction.Exists,10],[css_what_1.AttributeAction.Equals,8],[css_what_1.AttributeAction.Not,7],[css_what_1.AttributeAction.Start,6],[css_what_1.AttributeAction.End,6],[css_what_1.AttributeAction.Any,5]]);function sortByProcedure(t){for(var e=t.map(getProcedure),r=1;r<t.length;r++){var a=e[r];if(!(a<0))for(var s=r-1;s>=0&&a<e[s];s--){var c=t[s+1];t[s+1]=t[s],t[s]=c,e[s+1]=e[s],e[s]=a}}}function getProcedure(t){var e,r,a=null!==(e=procedure.get(t.type))&&void 0!==e?e:-1;return t.type===css_what_1.SelectorType.Attribute?(a=null!==(r=attributes.get(t.action))&&void 0!==r?r:4,t.action===css_what_1.AttributeAction.Equals&&"id"===t.name&&(a=9),t.ignoreCase&&(a>>=1)):t.type===css_what_1.SelectorType.Pseudo&&(t.data?"has"===t.name||"contains"===t.name?a=0:Array.isArray(t.data)?(a=Math.min.apply(Math,t.data.map((function(t){return Math.min.apply(Math,t.map(getProcedure))}))))<0&&(a=0):a=2:a=3),a}exports.default=sortByProcedure;
