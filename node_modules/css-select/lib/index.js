"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,n)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.aliases=exports.pseudos=exports.filters=exports.is=exports.selectOne=exports.selectAll=exports.prepareContext=exports._compileToken=exports._compileUnsafe=exports.compile=void 0;var DomUtils=__importStar(require("domutils")),boolbase_1=__importDefault(require("boolbase")),compile_js_1=require("./compile.js"),subselects_js_1=require("./pseudo-selectors/subselects.js"),defaultEquals=function(e,t){return e===t},defaultOptions={adapter:DomUtils,equals:defaultEquals};function convertOptionFormats(e){var t,r,o,n,s=null!=e?e:defaultOptions;return null!==(t=s.adapter)&&void 0!==t||(s.adapter=DomUtils),null!==(r=s.equals)&&void 0!==r||(s.equals=null!==(n=null===(o=s.adapter)||void 0===o?void 0:o.equals)&&void 0!==n?n:defaultEquals),s}function wrapCompile(e){return function(t,r,o){var n=convertOptionFormats(r);return e(t,n,o)}}function getSelectorFunc(e){return function(t,r,o){var n=convertOptionFormats(o);"function"!=typeof t&&(t=(0,compile_js_1.compileUnsafe)(t,n,r));var s=prepareContext(r,n.adapter,t.shouldTestNextSiblings);return e(t,s,n)}}function prepareContext(e,t,r){return void 0===r&&(r=!1),r&&(e=appendNextSiblings(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}function appendNextSiblings(e,t){for(var r=Array.isArray(e)?e.slice(0):[e],o=r.length,n=0;n<o;n++){var s=(0,subselects_js_1.getNextSiblings)(r[n],t);r.push.apply(r,s)}return r}function is(e,t,r){var o=convertOptionFormats(r);return("function"==typeof t?t:(0,compile_js_1.compile)(t,o))(e)}exports.compile=wrapCompile(compile_js_1.compile),exports._compileUnsafe=wrapCompile(compile_js_1.compileUnsafe),exports._compileToken=wrapCompile(compile_js_1.compileToken),exports.prepareContext=prepareContext,exports.selectAll=getSelectorFunc((function(e,t,r){return e!==boolbase_1.default.falseFunc&&t&&0!==t.length?r.adapter.findAll(e,t):[]})),exports.selectOne=getSelectorFunc((function(e,t,r){return e!==boolbase_1.default.falseFunc&&t&&0!==t.length?r.adapter.findOne(e,t):null})),exports.is=is,exports.default=exports.selectAll;var index_js_1=require("./pseudo-selectors/index.js");Object.defineProperty(exports,"filters",{enumerable:!0,get:function(){return index_js_1.filters}}),Object.defineProperty(exports,"pseudos",{enumerable:!0,get:function(){return index_js_1.pseudos}}),Object.defineProperty(exports,"aliases",{enumerable:!0,get:function(){return index_js_1.aliases}});
