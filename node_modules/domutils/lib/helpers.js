"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.uniqueSort=exports.compareDocumentPosition=exports.DocumentPosition=exports.removeSubsets=void 0;var DocumentPosition,domhandler_1=require("domhandler");function removeSubsets(o){for(var e=o.length;--e>=0;){var t=o[e];if(e>0&&o.lastIndexOf(t,e-1)>=0)o.splice(e,1);else for(var n=t.parent;n;n=n.parent)if(o.includes(n)){o.splice(e,1);break}}return o}function compareDocumentPosition(o,e){var t=[],n=[];if(o===e)return 0;for(var r=(0,domhandler_1.hasChildren)(o)?o:o.parent;r;)t.unshift(r),r=r.parent;for(r=(0,domhandler_1.hasChildren)(e)?e:e.parent;r;)n.unshift(r),r=r.parent;for(var i=Math.min(t.length,n.length),u=0;u<i&&t[u]===n[u];)u++;if(0===u)return DocumentPosition.DISCONNECTED;var s=t[u-1],c=s.children,m=t[u],D=n[u];return c.indexOf(m)>c.indexOf(D)?s===e?DocumentPosition.FOLLOWING|DocumentPosition.CONTAINED_BY:DocumentPosition.FOLLOWING:s===o?DocumentPosition.PRECEDING|DocumentPosition.CONTAINS:DocumentPosition.PRECEDING}function uniqueSort(o){return(o=o.filter((function(o,e,t){return!t.includes(o,e+1)}))).sort((function(o,e){var t=compareDocumentPosition(o,e);return t&DocumentPosition.PRECEDING?-1:t&DocumentPosition.FOLLOWING?1:0})),o}exports.removeSubsets=removeSubsets,function(o){o[o.DISCONNECTED=1]="DISCONNECTED",o[o.PRECEDING=2]="PRECEDING",o[o.FOLLOWING=4]="FOLLOWING",o[o.CONTAINS=8]="CONTAINS",o[o.CONTAINED_BY=16]="CONTAINED_BY"}(DocumentPosition=exports.DocumentPosition||(exports.DocumentPosition={})),exports.compareDocumentPosition=compareDocumentPosition,exports.uniqueSort=uniqueSort;
