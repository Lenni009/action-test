"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.findAll=exports.existsOne=exports.findOne=exports.findOneChild=exports.find=exports.filter=void 0;var domhandler_1=require("domhandler");function filter(n,e,r,i){return void 0===r&&(r=!0),void 0===i&&(i=1/0),Array.isArray(e)||(e=[e]),find(n,e,r,i)}function find(n,e,r,i){for(var d=[],t=0,l=e;t<l.length;t++){var f=l[t];if(n(f)&&(d.push(f),--i<=0))break;if(r&&(0,domhandler_1.hasChildren)(f)&&f.children.length>0){var o=find(n,f.children,r,i);if(d.push.apply(d,o),(i-=o.length)<=0)break}}return d}function findOneChild(n,e){return e.find(n)}function findOne(n,e,r){void 0===r&&(r=!0);for(var i=null,d=0;d<e.length&&!i;d++){var t=e[d];(0,domhandler_1.isTag)(t)&&(n(t)?i=t:r&&t.children.length>0&&(i=findOne(n,t.children,!0)))}return i}function existsOne(n,e){return e.some((function(e){return(0,domhandler_1.isTag)(e)&&(n(e)||e.children.length>0&&existsOne(n,e.children))}))}function findAll(n,e){for(var r,i,d=[],t=e.filter(domhandler_1.isTag);i=t.shift();){var l=null===(r=i.children)||void 0===r?void 0:r.filter(domhandler_1.isTag);l&&l.length>0&&t.unshift.apply(t,l),n(i)&&d.push(i)}return d}exports.filter=filter,exports.find=find,exports.findOneChild=findOneChild,exports.findOne=findOne,exports.existsOne=existsOne,exports.findAll=findAll;
