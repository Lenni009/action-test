import{isTag,hasChildren}from"domhandler";export function filter(n,e,i=!0,r=1/0){return Array.isArray(e)||(e=[e]),find(n,e,i,r)}export function find(n,e,i,r){const t=[];for(const l of e){if(n(l)&&(t.push(l),--r<=0))break;if(i&&hasChildren(l)&&l.children.length>0){const e=find(n,l.children,i,r);if(t.push(...e),(r-=e.length)<=0)break}}return t}export function findOneChild(n,e){return e.find(n)}export function findOne(n,e,i=!0){let r=null;for(let t=0;t<e.length&&!r;t++){const l=e[t];isTag(l)&&(n(l)?r=l:i&&l.children.length>0&&(r=findOne(n,l.children,!0)))}return r}export function existsOne(n,e){return e.some((e=>isTag(e)&&(n(e)||e.children.length>0&&existsOne(n,e.children))))}export function findAll(n,e){var i;const r=[],t=e.filter(isTag);let l;for(;l=t.shift();){const e=null===(i=l.children)||void 0===i?void 0:i.filter(isTag);e&&e.length>0&&t.unshift(...e),n(l)&&r.push(l)}return r}
