"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getElementsByTagType=exports.getElementsByTagName=exports.getElementById=exports.getElements=exports.testElement=void 0;var domhandler_1=require("domhandler"),querying_js_1=require("./querying.js"),Checks={tag_name:function(e){return"function"==typeof e?function(t){return(0,domhandler_1.isTag)(t)&&e(t.name)}:"*"===e?domhandler_1.isTag:function(t){return(0,domhandler_1.isTag)(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return(0,domhandler_1.isText)(t)&&e(t.data)}:function(t){return(0,domhandler_1.isText)(t)&&t.data===e}}};function getAttribCheck(e,t){return"function"==typeof t?function(n){return(0,domhandler_1.isTag)(n)&&t(n.attribs[e])}:function(n){return(0,domhandler_1.isTag)(n)&&n.attribs[e]===t}}function combineFuncs(e,t){return function(n){return e(n)||t(n)}}function compileTest(e){var t=Object.keys(e).map((function(t){var n=e[t];return Object.prototype.hasOwnProperty.call(Checks,t)?Checks[t](n):getAttribCheck(t,n)}));return 0===t.length?null:t.reduce(combineFuncs)}function testElement(e,t){var n=compileTest(e);return!n||n(t)}function getElements(e,t,n,r){void 0===r&&(r=1/0);var o=compileTest(e);return o?(0,querying_js_1.filter)(o,t,n,r):[]}function getElementById(e,t,n){return void 0===n&&(n=!0),Array.isArray(t)||(t=[t]),(0,querying_js_1.findOne)(getAttribCheck("id",e),t,n)}function getElementsByTagName(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),(0,querying_js_1.filter)(Checks.tag_name(e),t,n,r)}function getElementsByTagType(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),(0,querying_js_1.filter)(Checks.tag_type(e),t,n,r)}exports.testElement=testElement,exports.getElements=getElements,exports.getElementById=getElementById,exports.getElementsByTagName=getElementsByTagName,exports.getElementsByTagType=getElementsByTagType;
